<div class="cadastro-container">
  <div class="header-cadastro">
    <h2>üìã Cadastro de Estabelecimento</h2>
    <p class="subtitle">Preencha os dados abaixo para solicitar o cadastro no nosso sistema</p>
  </div>

  <form #cadForm="ngForm" (ngSubmit)="cadastrar(cadForm)">
    
    <!-- ===== SE√á√ÉO: DADOS B√ÅSICOS ===== -->
    <div class="form-section">
      <h3 class="section-title">üè™ Dados B√°sicos</h3>
      
      <div class="form-group">
        <label for="nome">Nome do Estabelecimento <span class="required">*</span></label>
        <input 
          id="nome"
          [(ngModel)]="nome" 
          name="nome" 
          placeholder="Ex: Barbearia Central"
          required 
          #nomeRef="ngModel"
          class="form-input" />
        <div class="field-error" *ngIf="(nomeRef.invalid && nomeRef.touched) || (submitted && nomeRef.invalid)">
          Nome do estabelecimento √© obrigat√≥rio
        </div>
      </div>

      <div class="form-group">
        <label for="responsavel">Nome do Respons√°vel</label>
        <input 
          id="responsavel"
          [(ngModel)]="responsavel" 
          name="responsavel" 
          placeholder="Nome completo do propriet√°rio"
          #responsavelRef="ngModel"
          class="form-input" />
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="cnpj">CNPJ</label>
          <input 
            id="cnpj"
            [(ngModel)]="cnpj" 
            name="cnpj" 
            placeholder="00.000.000/0000-00"
            (input)="formatarCNPJ($event)"
            maxlength="18"
            #cnpjRef="ngModel"
            class="form-input" />
          <small class="hint">Caso tenha CNPJ, informe aqui</small>
        </div>

        <div class="form-group">
          <label for="cpf">CPF</label>
          <input 
            id="cpf"
            [(ngModel)]="cpf" 
            name="cpf" 
            placeholder="000.000.000-00"
            (input)="formatarCPF($event)"
            maxlength="14"
            #cpfRef="ngModel"
            class="form-input" />
          <small class="hint">Caso n√£o tenha CNPJ</small>
        </div>
      </div>
    </div>

    <!-- ===== SE√á√ÉO: CONTATO ===== -->
    <div class="form-section">
      <h3 class="section-title">üìû Contato</h3>
      
      <div class="form-row">
        <div class="form-group">
          <label for="telefone">Telefone <span class="required">*</span></label>
          <input 
            id="telefone"
            [(ngModel)]="telefone" 
            name="telefone" 
            placeholder="(11) 99999-9999"
            (input)="formatarTelefone($event)"
            maxlength="15"
            required
            #telefoneRef="ngModel"
            class="form-input" />
          <div class="field-error" *ngIf="(telefoneRef.invalid && telefoneRef.touched) || (submitted && telefoneRef.invalid)">
            Telefone √© obrigat√≥rio
          </div>
        </div>

        <div class="form-group">
          <label for="email">E-mail <span class="required">*</span></label>
          <input 
            id="email"
            [(ngModel)]="email" 
            name="email" 
            type="email"
            placeholder="contato@estabelecimento.com"
            required
            #emailRef="ngModel"
            class="form-input" />
          <div class="field-error" *ngIf="(emailRef.invalid && emailRef.touched) || (submitted && emailRef.invalid)">
            E-mail v√°lido √© obrigat√≥rio
          </div>
        </div>
      </div>
    </div>

    <!-- ===== SE√á√ÉO: ENDERE√áO ===== -->
    <div class="form-section">
      <h3 class="section-title">üìç Endere√ßo</h3>
      
      <div class="form-row">
        <div class="form-group">
          <label for="cep">CEP</label>
          <input 
            id="cep"
            [(ngModel)]="cep" 
            name="cep" 
            placeholder="00000-000"
            (input)="formatarCEP($event)"
            maxlength="9"
            #cepRef="ngModel"
            class="form-input" />
        </div>

        <div class="form-group">
          <label for="estado">Estado <span class="required">*</span></label>
          <select 
            id="estado"
            [(ngModel)]="estado" 
            name="estado"
            required
            #estadoRef="ngModel"
            class="form-select">
            <option value="">Selecione</option>
            <option *ngFor="let uf of estados" [value]="uf.sigla">
              {{ uf.nome }} ({{ uf.sigla }})
            </option>
          </select>
          <div class="field-error" *ngIf="(estadoRef.invalid && estadoRef.touched) || (submitted && estadoRef.invalid)">
            Estado √© obrigat√≥rio
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="cidade">Cidade <span class="required">*</span></label>
        <input 
          id="cidade"
          [(ngModel)]="cidade" 
          name="cidade" 
          placeholder="Nome da cidade"
          required
          #cidadeRef="ngModel"
          class="form-input" />
        <div class="field-error" *ngIf="(cidadeRef.invalid && cidadeRef.touched) || (submitted && cidadeRef.invalid)">
          Cidade √© obrigat√≥ria
        </div>
      </div>

      <div class="form-group">
        <label for="bairro">Bairro <span class="required">*</span></label>
        <input 
          id="bairro"
          [(ngModel)]="bairro" 
          name="bairro" 
          placeholder="Nome do bairro"
          required
          #bairroRef="ngModel"
          class="form-input" />
        <div class="field-error" *ngIf="(bairroRef.invalid && bairroRef.touched) || (submitted && bairroRef.invalid)">
          Bairro √© obrigat√≥rio
        </div>
      </div>

      <div class="form-row">
        <div class="form-group flex-2">
          <label for="endereco">Endere√ßo <span class="required">*</span></label>
          <input 
            id="endereco"
            [(ngModel)]="endereco" 
            name="endereco" 
            placeholder="Rua, Avenida, etc."
            required
            #enderecoRef="ngModel"
            class="form-input" />
          <div class="field-error" *ngIf="(enderecoRef.invalid && enderecoRef.touched) || (submitted && enderecoRef.invalid)">
            Endere√ßo √© obrigat√≥rio
          </div>
        </div>

        <div class="form-group flex-1">
          <label for="numero">N√∫mero <span class="required">*</span></label>
          <input 
            id="numero"
            [(ngModel)]="numero" 
            name="numero" 
            placeholder="123"
            required
            #numeroRef="ngModel"
            class="form-input" />
          <div class="field-error" *ngIf="(numeroRef.invalid && numeroRef.touched) || (submitted && numeroRef.invalid)">
            N√∫mero √© obrigat√≥rio
          </div>
        </div>
      </div>

      <div class="form-group">
        <label for="complemento">Complemento</label>
        <input 
          id="complemento"
          [(ngModel)]="complemento" 
          name="complemento" 
          placeholder="Apartamento, sala, andar, etc."
          class="form-input" />
      </div>
    </div>

    <!-- ===== SE√á√ÉO: FUNCIONAMENTO ===== -->
    <div class="form-section">
      <h3 class="section-title">üïê Hor√°rio de Funcionamento</h3>
      
      <div class="form-group">
        <label for="horario_funcionamento">Descri√ß√£o do Funcionamento</label>
        <input 
          id="horario_funcionamento"
          [(ngModel)]="horario_funcionamento" 
          name="horario_funcionamento" 
          placeholder="Ex: Segunda a Sexta: 8h √†s 18h, S√°bado: 8h √†s 12h"
          class="form-input" />
        <small class="hint">Descreva os hor√°rios de funcionamento</small>
      </div>

      <div class="form-row">
        <div class="form-group">
          <label for="horario_abertura">Hor√°rio de Abertura</label>
          <input 
            id="horario_abertura"
            [(ngModel)]="horario_abertura" 
            name="horario_abertura" 
            type="time"
            class="form-input" />
        </div>

        <div class="form-group">
          <label for="horario_fechamento">Hor√°rio de Fechamento</label>
          <input 
            id="horario_fechamento"
            [(ngModel)]="horario_fechamento" 
            name="horario_fechamento" 
            type="time"
            class="form-input" />
        </div>
      </div>
    </div>

    <!-- ===== SE√á√ÉO: LOCALIZA√á√ÉO (OPCIONAL) ===== -->
    <div class="form-section optional-section">
      <h3 class="section-title">üó∫Ô∏è Localiza√ß√£o GPS (Opcional)</h3>
      <p class="section-description">Adicione as coordenadas para facilitar a localiza√ß√£o no mapa</p>
      
      <div class="form-row">
        <div class="form-group">
          <label for="latitude">Latitude</label>
          <input 
            id="latitude"
            [(ngModel)]="latitude" 
            name="latitude" 
            type="number"
            step="0.00000001"
            placeholder="-23.5505199"
            class="form-input" />
        </div>

        <div class="form-group">
          <label for="longitude">Longitude</label>
          <input 
            id="longitude"
            [(ngModel)]="longitude" 
            name="longitude" 
            type="number"
            step="0.00000001"
            placeholder="-46.6333094"
            class="form-input" />
        </div>
      </div>
    </div>

    <!-- ===== AVISO ===== -->
    <div class="info-box">
      <div class="info-icon">‚ÑπÔ∏è</div>
      <div class="info-content">
        <strong>Importante:</strong> Seu cadastro ser√° analisado por nossa equipe. Ap√≥s a aprova√ß√£o, entraremos em contato atrav√©s dos dados informados para finalizar o processo.
      </div>
    </div>

    <!-- ===== BOT√ïES ===== -->
    <div class="form-actions">
      <button type="submit" class="btn-cadastrar" [disabled]="carregando">
        <span *ngIf="!carregando">‚úÖ Enviar Cadastro</span>
        <span *ngIf="carregando">‚è≥ Cadastrando...</span>
      </button>
      <button type="button" class="btn-voltar" (click)="voltar()" [disabled]="carregando">
        ‚Üê Voltar
      </button>
    </div>
  </form>
</div>
